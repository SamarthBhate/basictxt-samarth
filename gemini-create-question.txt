func createQuestion(_ questionNumber: Int) {
      let config = GenerationConfig(
            temperature: 0.9,
            topP: 1,
            topK: 1,
            maxOutputTokens: 2048,
)

// Don't check your API key into source control!
guard let apiKey = ProcessInfo.processInfo.environment["API_KEY"] else {
  fatalError("Add `API_KEY` as an Environment Variable in your app's scheme.")
}

let model = GenerativeModel(
  name: "gemini-1.0-pro",
  apiKey: apiKey,
  generationConfig: config,
  safetySettings: [
    SafetySetting(harmCategory: .harassment, threshold: .blockMediumAndAbove),
    SafetySetting(harmCategory: .hateSpeech, threshold: .blockMediumAndAbove),
    SafetySetting(harmCategory: .sexuallyExplicit, threshold: .blockMediumAndAbove),
    SafetySetting(harmCategory: .dangerousContent, threshold: .blockMediumAndAbove)
  ]
)

Task {
  do {
    let response = try await model.generateContent(
      "!IMPORTANT!: Make it family friendly! Create a question for a quiz related to conflict resolution. Give any conflict and give four resolutions using the animal strategies: Turtle: Avoidance, Shark: Competition, Teddy Bear: Accomadating, Fox: Compromise, and Owl: Collaborating with four answers and one randomly chosen correct one that is in this format. Key: $: Input given by user like this: [something: \"hello\"] is $something, []: generated by you. [Q$QuestionNumber:, [Question], [Answer1], [Answer2], [Answer3], [Answer4], [CorrectAnswer]]. There are different situations where different strategies are correct, like some might be turtle. Please. and I mean Please make sure that the correct answer is chosen randomly. Use a randomiser",
      "  [QuestionNumber: 1]",
      "output: [[Q1:], [What is the best thing to do in this situation? Your friend is bullying an autistic kid and you don't like it], [Don't say anything and just watch: Turtle]. [Confront them and tell them that you don't like it: Shark], [Give them something in order to stop them from bullying them: Fox], [Teddy Bear: Just let them do it anyway], [Confront them and tell them that you don't like it: Shark\n]]",
      "  [QuestionNumber: 6]",
      "output: [[Q6:], [You accidentally said something wrong to your friend and they are upset with you. What should you do to fix it?], [Just say sorry: Teddy Bear], [Tell them that they are wrong: Shark], [Talk to them about it and try to see things from their point of view: Owl], [Try to make up for it: Fox], [Talk to them about it and try to see things from their point of view: Owl\n]]",
      "  [QuestionNumber: 2973492]",
      "output: [[Q2973492:], [What should you do if you see someone being excluded from a group?], [Tell the person that they are not allowed to be excluded: Shark], [Try to talk to the group about how it is not okay to exclude people: Fox], [Join in with the group that is trying to exclude the person], [Teddy Bear: Just let them be excluded], [Try to talk to the group about how it is not okay to exclude people: Fox\n]]",
      "  [QuestionNumber: 8]",
      "output: [[Q8:], [Your friend is really upset with you and you don't know why. What should you do?], [Just wait for them to tell you what you did wrong: Turtle], [Tell them that you don't know what you did wrong: Shark], [Try to talk to them about it and figure out what you did wrong: Owl], [Try to give them their favourite toy: Fox], [Try to talk to them about it and figure out what you did wrong: Owl\n]]",
      "  [QuestionNumber: 42]",
      "output: [[Q42:], [You borrowed money from your friend and you forgot to pay it back. What should you do?], [Get them a gift as an apology: Fox], [Tell them you don't have it: Shark], [Just avoid them and hope they forget], [Teddy Bear: Just let them be mad at you], [Get them a gift as an apology: Fox\n]]",
      "  ",
      "output: "
    )
    print(response.text ?? "No text available")
  } catch {
    print(error)
  }
}

}
